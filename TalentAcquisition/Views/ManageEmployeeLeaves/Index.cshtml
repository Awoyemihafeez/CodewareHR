@model IEnumerable<TalentAcquisition.BusinessLogic.UpdatedDomain.ManageEmployeeLeave>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_NormalLayout.cshtml";
}

@*<h2>Leave Plan</h2>*@

<ol class="breadcrumb">
    <li><a href="@Url.Action("Dashboard","Admin")">Home</a></li>
    @*<li><a href="#">Private</a></li>*@
    @*<li><a href="#">Pictures</a></li>*@
    <li class="active">Leave Plan</li>
</ol>
<style>
    h5 {
        color: #428bca !important;
        text-decoration: none !important;
    }

    .panel-title > a {
        text-decoration: none !important;
    }

        .panel-title > a:hover {
            color: #2a6496 !important;
            text-decoration: none !important;
        }
</style>
<section class="container-fluid">
    <div class="container-fluid">
        <div class="">
            <div class="">
                @*<div class="panel-title">
                    <a data-toggle="collapse" href="#collapse2"><h5 style="font-weight:bold">Leave Plan History</h5></a>
                </div>*@
            </div>
            <div id="" class="">
                <div class="" >
                    @*<p>
                        @Html.ActionLink("Create New", "Create")
                    </p>*@


                    <table class="table table-striped" style="border:1px solid lightgrey">
                        <tr>
                            <th style="width:8em">
                                @*@Html.DisplayNameFor(model => model.EmployeeId)*@
                                Employee ID
                            </th>
                            <th>
                                @*@Html.DisplayNameFor(model => model.EmployeeName)*@
                                Fullname
                            </th>
                            <th>
                                @*@Html.DisplayNameFor(model => model.StartDate)*@
                                Start Date
                            </th>
                            <th>
                                @*@Html.DisplayNameFor(model => model.EndDate)*@
                                End Date
                            </th>
                            <th>
                                @*@Html.DisplayNameFor(model => model.Duration)*@
                                Duration
                            </th>
                            <th style="width:10em">
                                @*@Html.DisplayNameFor(model => model.ApplyDate)*@
                                Applied Date
                            </th>
                            <th style="width:8em">
                                @*@Html.DisplayNameFor(model => model.Status)*@
                                Leave Type
                            </th>
                            <th style="width:10em">
                                @*@Html.DisplayNameFor(model => model.Status)*@
                                Leave Limit
                            </th>
                            <th >
                                @*@Html.DisplayNameFor(model => model.Status)*@
                             Leave Taken
                            </th>
                            <th style="width:10em" >
                                @*@Html.DisplayNameFor(model => model.Status)*@
                             Leave Remain
                            </th>
                            <th>
                                @*@Html.DisplayNameFor(model => model.Status)*@
                                Status
                            </th>
                            <th>Modification</th>
                            <th></th>
                        </tr>

                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    @Html.DisplayFor(modelItem => item.EmployeeId)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.EmployeeName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.StartDate)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.EndDate)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Duration)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ApplyDate)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LeaveType)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.LeaveLimit)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TotalLeaveTaken)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.TotalLeaveAvailable)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Status)
                                </td>
                                <td style="width:10em">

                                    @if (item.Status == TalentAcquisition.BusinessLogic.UpdatedDomain.ManageEmployeeLeave.LeaveStatus.Pending)
                                    {
                                        @Html.ActionLink("Edit", "Edit", new { id = item.ID }) |
                                        <span> </span> @Html.ActionLink("Delete", "Delete", new { id = item.ID });
                                    }
                                    @if (item.Status == TalentAcquisition.BusinessLogic.UpdatedDomain.ManageEmployeeLeave.LeaveStatus.Approved)
                                    {
  
                                        @Html.ActionLink("Apply To Leave", "LeaveApplication/Create/Plan/" + item.ID + "", "Employee");
    
                                    }
                                    <span></span>  @Html.ActionLink("Details", "Details", new { id = item.ID })

                                </td>

                            </tr>
                        }

                    </table>

                </div>
            </div>
        </div>
    </div>
</section>

    
